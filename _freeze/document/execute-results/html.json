{
  "hash": "f28a4ee001048e6e4166273d26e20473",
  "result": {
    "markdown": "---\noutput: html_document\neditor_options: \n  chunk_output_type: console\neditor: \n  markdown: \n    wrap: sentence\n---\n\n\n# 문서\n\nRobert Gentleman과 Duncan Temple Lang이 2004년 발표한 논문에서 공식적인 시작점을 찾을 수 있다.[^duncan] [^robert]\n\n[^duncan]: \"Statistical Analyses and Reproducible Research\" Bioconductor Project Working Papers\n[^robert]: \"Reproducible Research: A Bioinformatics Case Study\" in Statistical Applications in Genetics and Molecular Biology\n\n\n> We introduce the concept of a compendium as both a container for the different elements that make up the \n> document and its computations (i.e. text, code, data,...), and as a means for distributing, managing and \n> updating the collection. - Gentleman, R. and Temple Lang, D. (2004)\n\n:::{.callout-note}\n\nR 팩키지는 재현가능한 데이터 분석 프로젝트를 위한 **연구 개요서(research compendia)**로 훌륭한 대안으로 역할을 수행할 수 있다. 연구 개요서는 코드, 데이터, 출력결과물 등이 포함된다.\n\nR packages can serve as **research compendia** (including code,\ndata and outputs) for reproducible data analysis projects\n\n:::\n\n## 논문과 `ropensci` 진행경과 {#papers-ropensci}\n\n[@marwick2018packaging]\n\n![재현가능한 과학연구를 위한 저작 방법](images/compendium-rrtools.png)\n\n- [`ropensci`, \"Community Call: Reproducible Research with R\"](https://ropensci.org/commcalls/2019-07-30/)\n\n## R 팩키지와 개요서 {#compendium-intro} \n\nR 프로젝트, R 팩키지, 개요서(compendium)가 서로 동일한 목표를 가지고 있지만, 다소 차이가 있는 것도 사실이다. 데이터 사이언스를 하면서 코드, 데이터, 결과물을 하나의 개요서(compendium) 아래 묶어 이를 통해 재현가능한 과학기술 발전을 도모하는 것이 무엇보다 필요하다. [^rrrpkg] [^project-as-packages]\n\n[^rrrpkg]: [jennybc, \"Use of an R package to facilitate reproducible research\"](https://github.com/ropensci/rrrpkg)\n\n[^project-as-packages]: [Francisco Rodriguez-Sanchez \"Structuring data anlaysis projects as R packages\"](https://github.com/Pakillo/template/blob/master/slides/Projects_as_Packages.pdf)\n\n\n- 좋은 데이터 사이언스 프로젝트 구성\n    - 모든 파일은 동일한 디렉토리 아래 정돈되어 있음\n    - 원본 데이터(raw data)는 별도 폴더에 잘 저장되어 있어야 함.\n    - 정제된 데이터는 R 스크립트를 통해서 만들어져야 함.\n    - 함수는 분석 스크립트와 독립되어 저장되어야 함.\n    - 함수는 문서화가 잘 되어야 하면 (단위) 테스트도 되어 ㅎ함.\n    - 산출물은 코드와 격리되어야 하며 일회용으로 한번 사용하고 버림.\n    - `Makefile`은 적절한 순서로 분석을 실행해야 함.\n    - README 파일은 프로젝트 개요를 담고 있어야 함.\n    - `git`을 사용해서 R 코드와 Rmd 문서 파일은 버전 제어를 해야 함.\n    \n```bash\nproject/\n|-+ data-raw/   # 원본 데이터\n|-+ data/       # (R 스크립트로부터 생성된) 정제된 데이터\n|-+ R/          # 함수(Functions)\n|-+ man/        # (Roxygen으로 생성된) 함수 문서(Function documentation)\n|-+ tests/      # 테스트 (functions, Rmd)\n|-+ vignettes/  # (Rmd로 작성된) 분석결과, 원고, 보고서 등\n|\n|- Makefile    # 자동화 시키는 마스터 스크립트\n|- DESCRIPTION # 메타데이터와 의존성\n|- README      # 프로젝트 개요서\n```\n\n상기와 같이 개요서를 R 팩키지를 통해 구현하게 되면 어떤 점이 좋은지 살펴보자.\n\n* 재현가능성: Reproducibility\n* 일관되고, 표준적이며, 물흐르는 듯한 프로젝트 구조: Consistent, standard, streamlined organisation\n* 모듈화, 문서화, 테스트 주도 철학을 증진: Promotes modular, well-documented and tested code\n* 공유하기 쉬움: Easy to share (zip, GitHub repo)\n* 설치와 실행이 쉬움: Easy to install & run (Dependencies)\n* R 팩키지 제작 기계: Use R package development machinery:\n* R CMD CHECK\n* 지속 개발/지속 배포: Continuous integration (Travis-CI)\n* [goodpractice](https://github.com/MangoTheCat/goodpractice)로 자동화된 코드리뷰: Automatic code review with goodpractice\n* [pkgdown](https://github.com/r-lib/pkgdown)으로 프로젝트 웹사이트 제작: Easily create project websites with pkgdown\n\n## 시작이 반이다 {#start-small}\n\n- [시작이 반이다 - `start small`](cd-start-small.html)\n\n```bash\nproject\n|- DESCRIPTION\n|- README.md  \n|- Metadata.txt\n|\n|- data/                \n|   +- 2014ParasiteSurveyJustBrood.csv\n|   +- CedarBPLifeTable2014.csv\n|   +- NorthBPLifeTable2013.txt\n|   +- NorthBPLifeTable2014.csv|\n|- analysis/\n|   +- CodeforBPpaper.R\n```\n\n## 팩키지 개발 {#pkg-development}\n\n- [팩키지 개발](cd-pkg-development.html)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nproject\n|- DESCRIPTION\n|- NAMESPACE\n|- README.md\n|- LakeTrophicModelling.Rproj\n|\n|- R/\n|   +- LakeTrophicModelling-package.r\n|   +- class_prob_rf.R\n|   +- condAccuracy.R\n|   +- crossval_rf.R\n|   +- density_plot.R\n|   +- ecdf_ks_ci.R\n|   +- ecor_map.R\n|   +- getCyanoAbund.R\n|   +- getLakeIDs.R\n|   +- importancePlot.R\n|\n|- man/\n|   +- class_prob_rf.Rd\n|   +- condAccuracy.Rd\n|   +- crossval_rf.Rd\n|   +- density_plot.Rd\n|   +- ecdf_ks_ci.Rd\n|   +- ecor_map.Rd\n|   +- getCyanoAbund.Rd\n|   +- getLakeIDs.Rd\n|   +- importancePlot.Rd\n|\n|- data/                \n|   +- LakeTrophicModelling.rda\n|\n|- vignettes/\n|\n|- inst/\n|   +- doc/\n|      +- manuscript.pdf\n|   +- extdata/\n|      +- ltmData.csv\n|      +- data_def.csv\n```\n:::\n\n\n\n## CI/CD와 도커 {#cicd-docker}\n\n`Dockerfile` 파일을 추가하여 환경도 재현가능하게 만들 수 있고, `.travis.yml`을 추가하여 CI/CD 환경도 구축할 수 있다. `tests/`를 추가하여 테스트 주도 개발(test-driven development, TDD)를 시도할 수 있고, 이를 통해 수작업 검증을 자동화하여 생산성과 품질을 대폭 향상시킬 수도 있다.\n\n```bash\nproject\n|- DESCRIPTION          # project metadata and dependencies \n|- README.md            # top-level description of content and guide to users\n|- NAMESPACE            # exports R functions in the package for repeated use\n|- LICENSE              # specify the conditions of use and reuse of the code, data & text\n|- .travis.yml          # continuous integration service hook for auto-testing at each commit\n|- Dockerfile           # makes a custom isolated computational environment for the project\n|\n|- data/                # raw data, not changed once created\n|  +- my_data.csv       # data files in open formats such as TXT, CSV, TSV, etc.\n|\n|- analysis/            # any programmatic code\n|  +- my_report.Rmd     # R markdown file with narrative text interwoven with code chunks \n|  +- makefile          # builds a PDF/HTML/DOCX file from the Rmd, code, and data files\n|  +- scripts/          # code files (R, shell, etc.) used for data cleaning, analysis and visualisation \n|\n|- R/                     \n|  +- my_functions.R    # custom R functions that are used more than once throughout the project\n|\n|- man/\n|  +- my_functions.Rd   # documentation for the R functions (auto-generated when using devtools)\n|\n|- tests/\n|  +- testthat.R        # unit tests of R functions to ensure they perform as expected\n```\n\n## 각 사례별 템플릿 {#case-by-case-template}\n\n- [Jeff Hollister's manuscriptPackage](https://github.com/jhollist/manuscriptPackage)\n- [Carl Boettiger's template](https://github.com/cboettig/template)\n- [Francisco Rodriguez-Sanchez's template](https://github.com/Pakillo/template)\n- [Ben Marwick's researchcompendium](https://github.com/benmarwick/researchcompendium)\n    - [`rrtools`: Tools for Writing Reproducible Research in R](https://github.com/benmarwick/rrtools)\n\n",
    "supporting": [
      "document_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}